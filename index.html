<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Conmebol Libertadores - Sol Argentino TV</title>
  <link rel="stylesheet" href="estilos.css">
</head>
<body>
  <div class="aviso">*los datos se cargarán manualmente*</div>
  
  <div class="fase2">FASE 2</div>
  
  <!-- Contenedor de los partidos de la Fase 2, inicialmente vacío -->
  <div id="fixture">
    <!-- Aquí se cargarán los partidos dinámicamente -->
  </div>

  <!-- Aquí agregamos el script para cargar los partidos dinámicamente -->
  <script>
async function cargarPartidosLibertadores() {
  try {
    const apiKey = 'da847ec90e9cb93b74fac955dc9e4fa2';
    const url = 'https://api.football-data.org/v4/competitions/6954/matches';

    const respuesta = await fetch(url, {
      method: 'GET',
      headers: {
        'X-Auth-Token': apiKey,
      },
    });

    if (!respuesta.ok) {
      throw new Error('No se pudieron cargar los datos de la API');
    }

    const datos = await respuesta.json();
    const partidosFase2 = datos.matches.filter(partido => {
      const fechaPartido = new Date(partido.utcDate);
      return fechaPartido >= new Date('2025-02-20');
    });

    const fixtureDiv = document.getElementById('fixture');
    fixtureDiv.innerHTML = '';

    partidosFase2.forEach(partido => {
      if (partido.stage === 'ROUND_2' && partido.homeTeam && partido.awayTeam) {
        const partidoHTML = `
          <div class="partido">
            <div class="equipo1">
              <p>${partido.homeTeam.name}</p>
            </div>
            <div class="resultado">${partido.score.fullTime.homeTeam || '-'} - ${partido.score.fullTime.awayTeam || '-'}</div>
            <div class="equipo2">
              <p>${partido.awayTeam.name}</p>
            </div>
            <div class="fecha">${new Date(partido.utcDate).toLocaleString()}</div>
            <div class="tipopartido">${partido.stage}</div>
          </div>
        `;
        fixtureDiv.innerHTML += partidoHTML;
      }
    });
  } catch (error) {
    console.error('Error al cargar los partidos:', error);
    const fixtureDiv = document.getElementById('fixture');
    fixtureDiv.innerHTML = `<p>No se pudieron cargar los partidos. Intenta nuevamente más tarde.</p>`;
  }
}

document.addEventListener('DOMContentLoaded', cargarPartidosLibertadores);
  </script>
</body>
</html>